{"version":3,"sources":["utils/consts.js","components/Loader.js/index.js","components/Loader.js/Loader.js","components/Chat/index.js","components/Chat/Chat.js","components/Login/index.js","routes.js","components/Login/Login.js","components/AppRouter/index.js","components/AppRouter/AppRouter.js","components/Navbar/index.js","components/Navbar/Navbar.js","components/App/index.js","components/App/App.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Loader","className","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","map","message","style","border","marginLeft","src","alt","type","placeholder","onChange","e","target","onClick","Login","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","console","log","privateRoutes","AppRouter","component","exact","to","Navbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.2aeb6461.chunk.js","sourcesContent":["export const LOGIN_ROUTE = \"/login\";\r\nexport const CHAT_ROUTE = \"/chat\";\r\n","import Loader from \"./Loader\";\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport \"./Loader.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"lds-dual-ring\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import Chat from \"./Chat\";\r\n\r\nexport default Chat;\r\n","import React, { useContext, useState } from \"react\";\r\nimport \"./Chat.css\";\r\nimport { Context } from \"../../index\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\n\r\nimport Loader from \"../Loader.js\";\r\nimport firebase from \"firebase\";\r\n\r\nexport default function Chat() {\r\n  const { auth, firestore } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  const [value, setValue] = useState(\"\");\r\n  const [messages, loading] = useCollectionData(\r\n    firestore.collection(\"messages\").orderBy(\"createdAt\")\r\n  );\r\n  const sendMessage = async () => {\r\n    firestore.collection(\"messages\").add({\r\n      uid: user.uid,\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      text: value,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    setValue(\"\");\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chat-field\">\r\n        {messages.map((message) => (\r\n          <div\r\n            className=\"message-item\"\r\n            style={{\r\n              border:\r\n                user.uid === message.uid\r\n                  ? \"0.1rem solid rgba(241, 63, 230, 1)\"\r\n                  : \"0.1rem solid rgba(80, 141, 236, 1)\",\r\n              marginLeft: user.uid === message.uid ? \"auto\" : \"10px\",\r\n            }}\r\n          >\r\n            <div className=\"info-user\">\r\n              <img\r\n                src={message.photoURL}\r\n                alt={message.photoURL}\r\n                className=\"user-avatar-icon\"\r\n              />\r\n              <div className=\"user-name\">{message.displayName}</div>\r\n            </div>\r\n            <p className=\"messsage-text\">{message.text}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"chat-message-enter\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter message\"\r\n          className=\"input-message\"\r\n          value={value}\r\n          onChange={(e) => setValue(e.target.value)}\r\n        />\r\n        <button onClick={sendMessage} className=\"btn-submit-message\">\r\n          Отправить\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Login from \"./Login\";\r\n\r\nexport default Login;\r\n","import { LOGIN_ROUTE, CHAT_ROUTE } from \"./utils/consts\";\r\nimport Chat from \"../src/components/Chat\";\r\nimport Login from \"../src/components/Login\";\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: LOGIN_ROUTE,\r\n    Component: Login,\r\n  },\r\n];\r\n\r\nexport const privateRoutes = [\r\n  {\r\n    path: CHAT_ROUTE,\r\n    Component: Chat,\r\n  },\r\n];\r\n","import React, { useContext } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Context } from \"../../index\";\r\nimport firebase from \"firebase\";\r\n\r\nexport default function Login() {\r\n  const { auth } = useContext(Context);\r\n\r\n  const login = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const { user } = await auth.signInWithPopup(provider);\r\n    console.log(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <button className=\"btn-google\" onClick={login}>\r\n        Войти с помощью Google\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import AppRouter from \"./AppRouter\";\r\n\r\nexport default AppRouter;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport { privateRoutes, publicRoutes } from \"../../routes\";\r\nimport { LOGIN_ROUTE, CHAT_ROUTE } from \"../../utils/consts\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nexport default function AppRouter() {\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  return user ? (\r\n    <Switch>\r\n      {privateRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n  ) : (\r\n    <Switch>\r\n      {publicRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n  );\r\n}\r\n","import Navbar from \"./Navbar\";\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\nimport { LOGIN_ROUTE } from \"../../utils/consts\";\r\nimport { Context } from \"../../index\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nexport default function Navbar() {\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  return (\r\n    <header className=\"header\">\r\n      <nav className=\"nav\">\r\n        <ul className=\"nav-list\">\r\n          {user ? (\r\n            <li className=\"nav-item\">\r\n              <button className=\"btn\" onClick={() => auth.signOut()}>\r\n                Выйти\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <NavLink to={LOGIN_ROUTE}>\r\n              <li className=\"nav-item\">\r\n                <button className=\"btn\">Логин</button>\r\n              </li>\r\n            </NavLink>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React, { useContext } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport AppRouter from \"../AppRouter\";\nimport Navbar from \"../Navbar\";\nimport { Context } from \"../../index\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport Loader from \"../Loader.js\";\nimport \"./App.css\";\n\nexport default function App() {\n  const { auth } = useContext(Context);\n  const [user, loading, error] = useAuthState(auth);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n","import React, { createContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\n// Initialize Firebase\nfirebase.initializeApp({\n  apiKey: \"AIzaSyBX2s9c86_rWpUiVkMQ6HNAgTCnui2R-E8\",\n  authDomain: \"chat-react-a9b16.firebaseapp.com\",\n  projectId: \"chat-react-a9b16\",\n  storageBucket: \"chat-react-a9b16.appspot.com\",\n  messagingSenderId: \"260973734128\",\n  appId: \"1:260973734128:web:c22833140d938f58413a35\",\n  measurementId: \"G-FEX82FD3YC\",\n});\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n  <Context.Provider\n    value={{\n      firebase,\n      auth,\n      firestore,\n    }}\n  >\n    <App />\n  </Context.Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
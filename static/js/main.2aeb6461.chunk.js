(this["webpackJsonpchat-react-app"]=this["webpackJsonpchat-react-app"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t),a.d(t,"Context",(function(){return k}));var c=a(2),n=a(34),s=a.n(n),r=a(15),i=a(22),o=a(9),u="/login",j="/chat",l=a(20),b=a.n(l),d=a(24),h=(a(42),a(17)),m=a(35),p=(a(43),a(5));var O=function(){return Object(p.jsx)("div",{className:"login",children:Object(p.jsx)("div",{className:"lds-dual-ring"})})},x=a(16);var v=function(){var e=Object(c.useContext)(k),t=e.auth,a=e.firestore,n=Object(h.a)(t),s=Object(r.a)(n,1)[0],i=Object(c.useState)(""),o=Object(r.a)(i,2),u=o[0],j=o[1],l=Object(m.a)(a.collection("messages").orderBy("createdAt")),v=Object(r.a)(l,2),f=v[0],g=v[1],N=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.collection("messages").add({uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,text:u,createdAt:x.a.firestore.FieldValue.serverTimestamp()}),j("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?Object(p.jsx)(O,{}):Object(p.jsxs)("div",{className:"chat",children:[Object(p.jsx)("div",{className:"chat-field",children:f.map((function(e){return Object(p.jsxs)("div",{className:"message-item",style:{border:s.uid===e.uid?"0.1rem solid rgba(241, 63, 230, 1)":"0.1rem solid rgba(80, 141, 236, 1)",marginLeft:s.uid===e.uid?"auto":"10px"},children:[Object(p.jsxs)("div",{className:"info-user",children:[Object(p.jsx)("img",{src:e.photoURL,alt:e.photoURL,className:"user-avatar-icon"}),Object(p.jsx)("div",{className:"user-name",children:e.displayName})]}),Object(p.jsx)("p",{className:"messsage-text",children:e.text})]})}))}),Object(p.jsxs)("div",{className:"chat-message-enter",children:[Object(p.jsx)("input",{type:"text",placeholder:"Enter message",className:"input-message",value:u,onChange:function(e){return j(e.target.value)}}),Object(p.jsx)("button",{onClick:N,className:"btn-submit-message",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})};a(49);var f=[{path:u,Component:function(){var e=Object(c.useContext)(k).auth,t=function(){var t=Object(d.a)(b.a.mark((function t(){var a,c,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new x.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(a);case 3:c=t.sent,n=c.user,console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"login",children:Object(p.jsx)("button",{className:"btn-google",onClick:t,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})}}],g=[{path:j,Component:v}];var N=function(){var e=Object(c.useContext)(k).auth,t=Object(h.a)(e);return Object(r.a)(t,1)[0]?Object(p.jsxs)(o.d,{children:[g.map((function(e){var t=e.path,a=e.Component;return Object(p.jsx)(o.b,{path:t,component:a,exact:!0},t)})),Object(p.jsx)(o.a,{to:j})]}):Object(p.jsxs)(o.d,{children:[f.map((function(e){var t=e.path,a=e.Component;return Object(p.jsx)(o.b,{path:t,component:a,exact:!0},t)})),Object(p.jsx)(o.a,{to:u})]})};a(54);var C=function(){var e=Object(c.useContext)(k).auth,t=Object(h.a)(e),a=Object(r.a)(t,1)[0];return Object(p.jsx)("header",{className:"header",children:Object(p.jsx)("nav",{className:"nav",children:Object(p.jsx)("ul",{className:"nav-list",children:a?Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("button",{className:"btn",onClick:function(){return e.signOut()},children:"\u0412\u044b\u0439\u0442\u0438"})}):Object(p.jsx)(i.b,{to:u,children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("button",{className:"btn",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})})};a(55);var y=function(){var e=Object(c.useContext)(k).auth,t=Object(h.a)(e),a=Object(r.a)(t,3),n=(a[0],a[1]);return a[2],n?Object(p.jsx)(O,{}):Object(p.jsxs)(i.a,{children:[Object(p.jsx)(C,{}),Object(p.jsx)(N,{})]})};a(56),a(57);x.a.initializeApp({apiKey:"AIzaSyBX2s9c86_rWpUiVkMQ6HNAgTCnui2R-E8",authDomain:"chat-react-a9b16.firebaseapp.com",projectId:"chat-react-a9b16",storageBucket:"chat-react-a9b16.appspot.com",messagingSenderId:"260973734128",appId:"1:260973734128:web:c22833140d938f58413a35",measurementId:"G-FEX82FD3YC"});var k=Object(c.createContext)(null),w=x.a.auth(),I=x.a.firestore();s.a.render(Object(p.jsx)(k.Provider,{value:{firebase:x.a,auth:w,firestore:I},children:Object(p.jsx)(y,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.2aeb6461.chunk.js.map